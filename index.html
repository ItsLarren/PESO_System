<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPESO System - Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Fernandino Employment Information System</div>
                <div class="connection-status" id="connection-status">
                    <i class="fas fa-wifi"></i> Online
                </div>
                <div class="user-info">
                    <span id="current-user">Admin User</span>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Navigation Tabs -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-tabs">
                <button class="nav-tab active" data-page="dashboard">
                    <i class="fas fa-home"></i> Dashboard
                </button>
                <button class="nav-tab" data-page="applicants">
                    <i class="fas fa-users"></i> Applicants
                </button>
                <button class="nav-tab" data-page="employers">
                    <i class="fas fa-building"></i> Employers
                </button>
                <button class="nav-tab" data-page="vacancies">
                    <i class="fas fa-briefcase"></i> Vacancies
                </button>
                <button class="nav-tab" data-page="programs">
                    <i class="fas fa-project-diagram"></i> Programs
                </button>
                <button class="nav-tab" data-page="reports">
                    <i class="fas fa-chart-bar"></i> Reports & Statistics
                </button>
                <button class="nav-tab" data-page="tools">
                    <i class="fas fa-tools"></i> Tools & Utilities
                </button>
                <button class="nav-tab" data-page="admin">
                    <i class="fas fa-cog"></i> Administrator Panel
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Dashboard Content (Default) -->
        <div class="page-content active" id="dashboard-content">
            <!-- Welcome Section -->
            <div class="welcome-section">
                <div class="welcome-card">
                    <h1>Welcome to CPESO System</h1>
                    <p>San Fernando, Pampanga Employment Services Office</p>
                    <div class="quick-stats">
                        <div class="quick-stat">
                            <i class="fas fa-users"></i>
                            <div>
                                <span class="stat-number" id="quick-applicants">0</span>
                                <span class="stat-label">Total Applicants</span>
                            </div>
                        </div>
                        <div class="quick-stat">
                            <i class="fas fa-building"></i>
                            <div>
                                <span class="stat-number" id="quick-employers">0</span>
                                <span class="stat-label">Registered Employers</span>
                            </div>
                        </div>
                        <div class="quick-stat">
                            <i class="fas fa-briefcase"></i>
                            <div>
                                <span class="stat-number" id="quick-vacancies">0</span>
                                <span class="stat-label">Active Vacancies</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Local Stats Section -->
            <div class="local-stats-section">
                <div class="section-header">
                    <h2><i class="fas fa-map-marker-alt"></i> LOCAL STATS: SAN FERNANDO (PAMPANGA)</h2>
                </div>
                
                <div class="stats-grid">
                    <!-- Main Statistics Cards -->
                    <div class="stat-card primary">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="total-applicants">0</span>
                            <span class="stat-label">Total Applicants</span>
                            <div class="stat-trend">
                                <i class="fas fa-arrow-up trend-up"></i>
                                <span>12% increase</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card success">
                        <div class="stat-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="total-employers">0</span>
                            <span class="stat-label">Total Employers</span>
                            <div class="stat-trend">
                                <i class="fas fa-arrow-up trend-up"></i>
                                <span>5% increase</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card warning">
                        <div class="stat-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="active-vacancies">0</span>
                            <span class="stat-label">Active Vacancies</span>
                            <div class="stat-trend">
                                <i class="fas fa-arrow-down trend-down"></i>
                                <span>3% decrease</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card info">
                        <div class="stat-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="job-matches">0</span>
                            <span class="stat-label">Job Matches</span>
                            <div class="stat-trend">
                                <i class="fas fa-arrow-up trend-up"></i>
                                <span>8% increase</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional Detailed Stats -->
                <div class="detailed-stats">
                    <div class="stat-row">
                        <div class="stat-item">
                            <span class="stat-title">New Applicants (This Month)</span>
                            <span class="stat-value" id="new-applicants-month">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-title">Employed Applicants</span>
                            <span class="stat-value" id="employed-applicants">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-title">Unemployed Applicants</span>
                            <span class="stat-value" id="unemployed-applicants">0</span>
                        </div>
                    </div>
                    <div class="stat-row">
                        <div class="stat-item">
                            <span class="stat-title">Local Employers</span>
                            <span class="stat-value" id="local-employers">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-title">Overseas Employers</span>
                            <span class="stat-value" id="overseas-employers">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-title">Job Fairs This Year</span>
                            <span class="stat-value" id="job-fairs">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Section -->
            <div class="quick-actions-section">
                <div class="section-header">
                    <h2><i class="fas fa-bolt"></i> Quick Actions</h2>
                </div>
                <div class="actions-grid">
                    <button class="action-card" onclick="navigateToPage('applicants')">
                        <i class="fas fa-user-plus"></i>
                        <span>Add New Applicant</span>
                    </button>
                    <button class="action-card" onclick="navigateToPage('employers')">
                        <i class="fas fa-building"></i>
                        <span>Register Employer</span>
                    </button>
                    <button class="action-card" onclick="navigateToPage('vacancies')">
                        <i class="fas fa-briefcase"></i>
                        <span>Post New Vacancy</span>
                    </button>
                    <button class="action-card" onclick="navigateToPage('reports')">
                        <i class="fas fa-chart-pie"></i>
                        <span>Generate Report</span>
                    </button>
                    <button class="action-card" onclick="navigateToPage('programs')">
                        <i class="fas fa-project-diagram"></i>
                        <span>Manage Programs</span>
                    </button>
                    <button class="action-card" onclick="navigateToPage('tools')">
                        <i class="fas fa-upload"></i>
                        <span>Bulk Import Data</span>
                    </button>
                </div>
            </div>

            <!-- Recent Activity Section -->
            <div class="recent-activity-section">
                <div class="section-header">
                    <h2><i class="fas fa-history"></i> Recent Activity</h2>
                </div>
                <div class="activity-list" id="recent-activities">
                    <!-- Activities will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Applicants Page Content -->
        <div class="page-content" id="applicants-content">
            <!-- Your existing applicants content goes here -->
            <div class="card">
                <h2>Applicants Management</h2>
                
                <div class="search-container">
                    <input type="text" id="search-input" class="search-input" placeholder="Search applicants...">
                    <button class="search-btn" id="search-btn">
                        <i class="fas fa-search"></i> Search
                    </button>
                    <button class="clear-search-btn" id="clear-search-btn">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>

                <div class="action-buttons-container">
                    <button class="action-btn" id="advanced-filters-btn" style="background: #9c27b0;">
                        <i class="fas fa-filter"></i> Advanced Filters
                    </button>
                    <button class="add-btn" id="add-manual-btn">
                        <i class="fas fa-user-plus"></i> Add Applicant Manually
                    </button>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">All Records</button>
                    <button class="filter-tab" data-filter="employed">Employed</button>
                    <button class="filter-tab" id="zero-unemployment-tab">Zero Unemployment</button>
                    <button class="filter-tab" data-filter="unemployed">Unemployed</button>
                </div>

                <div id="advanced-filters-panel" class="advanced-filters" style="display: none;">
                    <h4 style="margin-bottom: 15px;">Advanced Filters</h4>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label class="filter-label">Program Category</label>
                            <select id="filter-program-category" class="filter-select">
                                <option value="">All Categories</option>
                                <option value="Livelihood">Livelihood Program</option>
                                <option value="Employment">Employment Assistance</option>
                                <option value="Education">Educational Assistance</option>
                                <option value="Skills">Skills Training</option>
                                <option value="OFW">OFW Reintegration</option>
                                <option value="PWD">PWD Assistance</option>
                                <option value="4Ps">4Ps Monitoring</option>
                                <option value="Zero Unemployment">Zero Unemployment Project</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">Program Status</label>
                            <select id="filter-program-status" class="filter-select">
                                <option value="">All Status</option>
                                <option value="Applied">Applied</option>
                                <option value="Approved">Approved</option>
                                <option value="Ongoing">Ongoing</option>
                                <option value="Completed">Completed</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">Employment Status</label>
                            <select id="filter-employment-status" class="filter-select">
                                <option value="">All Status</option>
                                <option value="Employed">Employed</option>
                                <option value="Unemployed">Unemployed</option>
                                <option value="Self-Employed">Self-Employed</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label class="filter-label">Age Range</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="number" id="filter-age-min" class="filter-input" placeholder="Min" min="18" max="100">
                                <input type="number" id="filter-age-max" class="filter-input" placeholder="Max" min="18" max="100">
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">Barangay</label>
                            <input type="text" id="filter-barangay" class="filter-input" placeholder="Filter by barangay">
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">Registration Date</label>
                            <input type="date" id="filter-reg-date" class="filter-input">
                        </div>
                    </div>
                    
                    <div class="filter-actions">
                        <button class="action-btn" id="apply-filters-btn" style="background: #4caf50;">
                            <i class="fas fa-check"></i> Apply Filters
                        </button>
                        <button class="clear-search-btn" id="clear-filters-btn">
                            <i class="fas fa-broom"></i> Clear All Filters
                        </button>
                    </div>
                </div>

                <div class="sort-container">
                    <label>Sort by:</label>
                    <select id="sort-select" class="sort-select">
                        <option value="name">Name (A-Z)</option>
                        <option value="name-desc">Name (Z-A)</option>
                        <option value="date">Registration Date (Newest)</option>
                        <option value="date-oldest">Registration Date (Oldest)</option>
                        <option value="age">Age (Low to High)</option>
                        <option value="age-desc">Age (High to Low)</option>
                    </select>
                    <span id="active-filters-count" style="font-size: 12px; color: #666;"></span>
                </div>
                
                <div class="table-container-wrapper">
                    <div class="table-container">
                        <table class="applicant-table" id="main-applicant-table">
                            <thead>
                                <tr>
                                    <th>SRS ID</th>
                                    <th>SURNAME</th>
                                    <th>FIRST NAME</th>
                                    <th>MIDDLE NAME</th>
                                    <th>SUFFIX</th>
                                    <th>DATE OF BIRTH</th>
                                    <th>PLACE OF BIRTH</th>
                                    <th>HOUSE NO./STREET/VILLAGE</th>
                                    <th>BARANGAY</th>
                                    <th>MUNICIPALITY/CITY</th>
                                    <th>PROVINCE</th>
                                    <th>SEX</th>
                                    <th>CIVIL STATUS</th>
                                    <th>TIN</th>
                                    <th>GSIS/SSS No.</th>
                                    <th>PAGIBIG No.</th>
                                    <th>PHILHEALTH No.</th>
                                    <th>HEIGHT</th>
                                    <th>EMAIL ADDRESS</th>
                                    <th>LANDLINE NUMBER</th>
                                    <th>CELLPHONE NUMBER</th>
                                    <th>DISABILITY</th>
                                    <th>EMPLOYMENT STATUS/TYPE</th>
                                    <th>ARE YOU ACTIVELY LOOKING FOR WORK?</th>
                                    <th>WILLING TO WORK IMMEDIATELY?</th>
                                    <th>ARE YOU A 4PS BENEFICIARY?</th>
                                    <th>PREFERRED OCCUPATION</th>
                                    <th>PREFERRED WORK LOCATION</th>
                                    <th>EXPECTED SALARY</th>
                                    <th>PASSPORT NO.</th>
                                    <th>PASSPORT EXPIRY DATE</th>
                                    <th>LANGUAGE</th>
                                    <th>ELEMENTARY</th>
                                    <th>SECONDARY</th>
                                    <th>TERTIARY</th>
                                    <th>GRADUATE STUDIES</th>
                                    <th>TECHNICAL/VOCATIONAL AND OTHER TRAINING</th>
                                    <th>ELIGIBILITY</th> 
                                    <th>WORK EXPERIENCE</th>
                                    <th>OTHER SKILLS</th>
                                    <th>PROGRAM CATEGORY</th>
                                    <th>SPECIFIC PROGRAM</th>
                                    <th>PROGRAM STATUS</th>
                                    <th>ACTIONS</th> <!-- ADD THIS NEW COLUMN -->
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                
            </div> <!-- Close table-scroll-container -->
                
                <!-- Action buttons at the bottom of the table -->
                <div class="table-actions" style="display: flex; gap: 10px; margin-top: 15px;">
                    <button id="clear-all-applicants-btn" class="clear-all-btn">
                        <i class="fas fa-trash"></i> Clear All Applicants
                    </button>
                    <button id="export-applicants-btn" class="export-applicants-btn">
                        <i class="fas fa-file-excel"></i> Export to Excel
                    </button>
                </div>
            </div>

            <div class="card">
                <h2>Upload new applicant file</h2>
                <div class="import-section">
                    <div class="file-input-container">
                        <input type="text" id="upload-file-name" class="file-input" placeholder="No file chosen" readonly>
                        <button class="upload-btn" id="upload-browse-btn">
                            <i class="fas fa-folder-open"></i> Browse
                        </button>
                        <input type="file" id="upload-file-input" accept=".xlsx, .xls" style="display: none;">
                    </div>
                    
                    <button class="add-btn" id="add-btn" disabled>
                        <i class="fas fa-upload"></i> Upload File
                    </button>

                    <div id="upload-notification" class="notification"></div>
                    <div id="duplicate-warning" class="duplicate-warning"></div>
                </div>

                <div class="instructions">
                    <h3>Reminder:</h3>
                    <ol>
                        <li>Click the "Browse" button to select the excel file you want to add at the applicant list, then click upload.</li>
                        <li>The file should be an excel file to proceed with uploading</li>
                        <li>When one of the applicant have a changes on his/her information, you can edit it by clicking the yellow button then save changes.</li>
                        <li>The Applicant file can be also deleted by clicking the red button.</li>
                        <li>If you want to download the file of the applicant you can click the green button.</li>
                    </ol>
                </div>
            </div>

            <div class="card">
                <h2>Import Excel File</h2>
                <div class="import-section">
                    <div class="file-input-container">
                        <input type="text" id="file-name" class="file-input" placeholder="No file chosen" readonly>
                        <button class="browse-btn" id="browse-btn">
                            <i class="fas fa-folder-open"></i> Browse
                        </button>
                        <input type="file" id="file-input" accept=".xlsx, .xls" style="display: none;">
                    </div>
                    
                    <button class="import-btn" id="import-btn" disabled>
                        <i class="fas fa-upload"></i> Import to Database
                    </button>

                    <div id="notification" class="notification"></div>
                </div>

                <div class="instructions">
                    <h3>How to use this system:</h3>
                    <ol>
                        <li>Click the download icon next to an applicant to export their data as an excel file</li>
                        <li>Click the "Browse" button to select the excel file you want to import</li>
                        <li>Click the "Import to Database" button to save the data to the system</li>
                        <li>The imported data will be displayed in the section below once processed</li>
                    </ol>
                </div>
            </div>

            <div class="card">
                <h2>Imported Data</h2>
                <div class="table-container">
                    <table class="applicant-table" id="imported-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Last Name</th>
                                <th>Given Name</th>
                                <th>Middle Name</th>
                                <th>Full Name</th>
                                <th>Date of Birth</th>
                                <th>Age</th>
                                <th>Sex</th>
                                <th>Civil Status</th>
                                <th>Street</th>
                                <th>Barangay</th>
                                <th>City</th>
                                <th>Province</th>
                                <th>Contact No.</th>
                                <th>Employment Status</th>
                                <th>If Employed/Self Employment</th>
                                <th>Educational Attainment</th>
                                <th>Course</th>
                                <th>Skills</th>
                                <th>Work Experience</th>
                                <th>Sector</th>
                                <th>Program/Services Provided</th>
                                <th>Remarks</th>
                                <th>Registration Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>

                <button id="reset-data-btn">Reset Imported Data</button>
            </div>

            <div class="card">
                <h2>Program Reports</h2>
                
                <div class="report-controls">
                    <button class="action-btn" id="generate-report-btn" style="background: #2196f3;">
                        <i class="fas fa-chart-pie"></i> Generate Program Report
                    </button>
                    <button class="action-btn" id="export-report-btn" style="background: #4caf50;">
                        <i class="fas fa-file-excel"></i> Export to Excel
                    </button>
                </div>
                
                <div id="program-reports" class="reports-container" style="display: none;">
                    <!-- Reports -->
                </div>
            </div>
        </div>

        <!-- Employers Page Content -->
        <div class="page-content" id="employers-content">
            <div class="card">
                <h2>Employers Management</h2>
                <p>Manage registered employers and companies</p>
                <!-- Employers content will go here -->
                <div class="coming-soon">
                    <i class="fas fa-tools fa-3x"></i>
                    <h3>Coming Soon</h3>
                    <p>Employers management feature is under development</p>
                </div>
            </div>
        </div>

        <!-- Vacancies Page Content -->
        <div class="page-content" id="vacancies-content">
            <div class="card">
                <h2>Job Vacancies</h2>
                <p>Manage job postings and vacancies</p>
                <!-- Vacancies content will go here -->
                <div class="coming-soon">
                    <i class="fas fa-tools fa-3x"></i>
                    <h3>Coming Soon</h3>
                    <p>Job vacancies management feature is under development</p>
                </div>
            </div>
        </div>

        <!-- Programs Page Content -->
        <div class="page-content" id="programs-content">
            <div class="card">
                <h2>Programs Management</h2>
                <p>Manage employment programs and services</p>
                <!-- Programs content will go here -->
                <div class="coming-soon">
                    <i class="fas fa-tools fa-3x"></i>
                    <h3>Coming Soon</h3>
                    <p>Programs management feature is under development</p>
                </div>
            </div>
        </div>

        <!-- Reports Page Content -->
        <div class="page-content" id="reports-content">
            <div class="card">
                <h2>Reports & Statistics</h2>
                
                <div class="report-controls">
                    <button class="action-btn" id="generate-report-btn" style="background: #2196f3;">
                        <i class="fas fa-chart-pie"></i> Generate Program Report
                    </button>
                    <button class="action-btn" id="export-report-btn" style="background: #4caf50;">
                        <i class="fas fa-file-excel"></i> Export to Excel
                    </button>
                </div>
                
                <div id="program-reports" class="reports-container" style="display: none;">
                    <!-- Reports content -->
                </div>
            </div>
        </div>

        <!-- Tools Page Content -->
        <div class="page-content" id="tools-content">
            <div class="card">
                <h2>Tools & Utilities</h2>
                <p>System tools and utilities</p>
                <!-- Tools content will go here -->
                <div class="coming-soon">
                    <i class="fas fa-tools fa-3x"></i>
                    <h3>Coming Soon</h3>
                    <p>Tools and utilities feature is under development</p>
                </div>
            </div>
        </div>

        <!-- Admin Page Content -->
        <div class="page-content" id="admin-content">
            <div class="card">
                <h2>Administrator Panel</h2>
                <p>System administration and settings</p>
                <!-- Admin content will go here -->
                <div class="coming-soon">
                    <i class="fas fa-tools fa-3x"></i>
                    <h3>Coming Soon</h3>
                    <p>Administrator panel feature is under development</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Include all your existing modals here -->
    <!-- View Modal, Edit Modal, Camera Modal, Manual Modal -->
    <!-- Make sure to copy all your modal HTML from your original file -->

    <script src="scripts/script.js"></script>
    <script src="scripts/home-dashboard.js"></script>
</body>
</html>